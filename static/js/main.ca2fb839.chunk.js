(this["webpackJsonpreact-rxjs"]=this["webpackJsonpreact-rxjs"]||[]).push([[0],{55:function(e,t,a){e.exports=a(67)},60:function(e,t,a){},61:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(34),o=a.n(c),i=(a(60),a(61),a(27)),u=a(4),l=a(6);a(66);function s(e){var t=e.beers;return r.a.createElement("ul",{className:"List"},t&&!t[0]&&r.a.createElement("p",{className:"centered"}," No beers found "),t&&t[0]&&t.map((function(e){return r.a.createElement("li",{key:e.id,className:"List-item"},r.a.createElement("figure",{className:"List-item-img"},r.a.createElement("img",{src:e.image_url,alt:"beer"})),r.a.createElement("div",{className:"List-item-info"},r.a.createElement("p",null,e.name),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("small",null,"ABV: ",e.abv)),r.a.createElement("li",null,r.a.createElement("small",null,"Volume: ",e.volume.value," ",e.volume.unit)))))})))}function p(e){return{type:"FETCH_FULIFILLED",payload:e}}function O(e){return{type:"FETCH_FAILED",payload:e}}function b(e){return{type:"SET_STATUS",payload:e}}function m(){return{type:"CANCEL"}}var j={};function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=j[e]+t;return{type:"SET_CONFIG",payload:[e,a]}}j.perPage="&per_page=",j.page="&page=";var E="localhost"===window.location.hostname?"":"/"+document.location.pathname.split("/")[1]+"/";var f=Object(i.b)((function(e){return Object(u.a)({},e.beers,{OPTIONS:e.OPTIONS})}),{fetchRandom:function(){return{type:"FECTH_RANDOM"}},search:function(e){return{type:"SEARCH",payload:e}},fetchCancel:m,saveConfig:d})((function(e){var t=e.data,a=e.status,c=e.fetchRandom,o=e.fetchCancel,i=e.saveConfig,u=e.search,p=e.errors,O=e.OPTIONS,b=(O.params&&O.params).perPage.split("=")[1]||10,m=Object(n.useState)(!1),j=Object(l.a)(m,2),d=j[0],f=j[1],v=Object(n.useState)(1),g=Object(l.a)(v,2),N=g[0],h=g[1],S=Object(n.useState)(b),C=Object(l.a)(S,2),y=C[0],A=C[1],I=function(e){N<2&&e<0||y>t.length&&e>0||(h((function(t){return t+e})),i("page",N),d?u(d):c())};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"App-inputs centered"},r.a.createElement("select",{name:"per-page",defaultValue:10,onChange:function(e){return t=e.target.value,A(t),void i("perPage",t);var t}},Array.from({length:10},(function(e,t){return 5*(t+1)})).map((function(e){return r.a.createElement("option",{key:e,value:e},e," results")}))),r.a.createElement("input",{type:"text",placeholder:"Search beer",onChange:function(e){return function(e){u(e.target.value),f(e.target.value.trim())}(e)}}),r.a.createElement("button",{type:"button",onClick:function(){return o(),void f(!1)},hidden:"SUCCESS"!==a&&"FAILURE"!==a&&!d},"SUCCESS"===a?"reset":"cancel"),r.a.createElement("button",{type:"button",onClick:c,disabled:"PENDING"===a},"get rendom beers!")),"SUCCESS"===a&&r.a.createElement("div",{className:"App-content"},t&&r.a.createElement(s,{beers:t}),r.a.createElement("div",{className:"list-pagination"},r.a.createElement("div",{className:"change-page",onClick:function(){return I(-1)},hidden:N<2},"Previous"),r.a.createElement("div",{className:"change-page",onClick:function(){return I(1)},hidden:y>t.length},"Next"))),"PENDING"===a&&r.a.createElement("span",{className:"App-spinner centered"},r.a.createElement("img",{src:E+"/beer-loader.gif",className:"beer-loader",alt:"loading"})),"FAILURE"===a&&r.a.createElement("div",{className:"App-content centered"},r.a.createElement("p",null," Oops! ",p&&p[0]&&p[0].message," ")))}));var v=Object(i.b)((function(e){return e}))((function(e){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"centered"},r.a.createElement("h1",null," Beers App "),r.a.createElement("span",{className:"subtitle"},"by ",e.app.name)),r.a.createElement(f,null))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var g=a(19),N=a(84),h=a(81),S=a(86),C={name:"niv"};function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NAME":return Object(u.a)({},e,{name:t.payload});default:return e}}var A={data:[],errors:[],status:"IDLE"};function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case"SET_STATUS":return Object(u.a)({},e,{status:t.payload});case"FECTH_DATA":return Object(u.a)({},e,{status:"PENDING"});case"FETCH_FULIFILLED":return Object(u.a)({},e,{data:t.payload,errors:[],status:"SUCCESS"});case"FETCH_FAILED":var a=t&&t.payload?t.payload:{message:"unknown error, check your connection",code:"000"},n=a.message,r=a.code;return Object(u.a)({},e,{errors:[{message:n,code:r}],status:"FAILURE"});case"SEARCH":return Object(u.a)({},e);case"CANCEL":return Object(u.a)({},e,{errors:[],status:"CANCEL"});default:return e}}var T=a(31),L=Object(T.a)({beerAPI:"https://api.punkapi.com/v2/beers"},"params",{page:"&page=1",perPage:"&per_page=10"});function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CONFIG":if(!t.payload||!t.payload[0])return Object(u.a)({},e);var a=Object(l.a)(t.payload,2),n=a[0],r=a[1];return Object(u.a)({},e,Object(T.a)({},"params",Object(u.a)({},e.params,Object(T.a)({},n,r))));default:return e}}var F=a(35),P=a(74),w=a(85),D=a(78),k=a(71),R=a(72),U=a(73),H=a(13),J=a(82),G=a(75),x=a(76),M=a(68),B=a(83),V=a(77),W=a(52),X=function(e){return[e.beerAPI,e.params]},$=Object(F.a)(b("PENDING"));function q(e,t,a){var n=a.getJSON;return e.pipe(Object(W.a)("FECTH_RANDOM"),Object(k.a)(t.pipe(Object(R.a)("OPTIONS"))),Object(U.a)((function(e){var t=Object(l.a)(e,2),a=(t[0],t[1]),r=a.params.perPage.split("=")[1],c=X(a),o=Object(l.a)(c,1)[0],i=Array.from({length:r}).map((function(){return n(o+"/random").pipe(Object(R.a)(0))})),u=Object(P.a)(i).pipe(Object(H.a)((function(e){return p(e)})),Object(J.a)(5e3),Object(G.a)((function(e){return Object(F.a)(O(e.response))})));return Object(w.a)($,u)})))}function z(e,t,a){var n=a.getJSON;return e.pipe(Object(W.a)("SEARCH"),Object(x.a)(500),Object(M.a)((function(e){return""!==e.payload.trim()})),Object(k.a)(t.pipe(Object(R.a)("OPTIONS"))),Object(U.a)((function(t){var a=Object(l.a)(t,2),r=a[0].payload,c=a[1],o=X(c),i=Object(l.a)(o,2),u=i[0],s=i[1],b=[];Object.entries(s).map((function(e){var t=Object(l.a)(e,2)[1];return b.push(t)}));var m,j,d=n((m=u,j=r,"".concat(m,"?beer_name=").concat(encodeURIComponent(j))+[b.join("")])).pipe(Object(H.a)((function(e){return p(e)})),Object(G.a)((function(e){return Object(F.a)(O(e.response))}))),E=e.pipe(Object(W.a)("CANCEL"),Object(B.a)(1),Object(V.a)({type:"CANCEL"}));return Object(w.a)($,Object(D.a)(d,E))})))}function K(e){return e.pipe(Object(W.a)("CANCEL"),Object(U.a)((function(){return Object(F.a)(b("IDLE"))})))}function Q(e,t,a){var n=a.getJSON;return e.pipe(Object(W.a)("FECTH_RANDOM"),Object(k.a)(t.pipe(Object(R.a)("OPTIONS"))),Object(U.a)((function(e){var t=Object(l.a)(e,2),a=(t[0],t[1]),r=X(a),c=Object(l.a)(r,2),o=c[0],i=c[1],u=[];return Object.entries(i).map((function(e){var t=Object(l.a)(e,2)[1];return u.push(t)})),Object(w.a)($,n(o+"?"+[u.join("")]).pipe(Object(H.a)((function(e){return p(e)})),Object(J.a)(5e3),Object(G.a)((function(e){return Object(F.a)(O(e.response))}))))})))}var Y=a(54),Z=a(79),ee=a(80),te=a(41);function ae(e,t){return e.pipe(Object(W.a)("SET_CONFIG"),Object(k.a)(t.pipe(Object(R.a)(["OPTIONS"]))),Object(Z.a)((function(e){var t=Object(l.a)(e,2),a=(t[0],t[1]),n=Object(u.a)({},a.params);localStorage.setItem("params",JSON.stringify(n))})),Object(ee.a)())}function ne(){var e=localStorage.getItem("params");if("string"===typeof e)try{var t=JSON.parse(e);return Object(F.a)(d.apply(void 0,Object(Y.a)(t)))}catch(a){return te.a}return te.a}o.a.render(r.a.createElement(i.a,{store:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(N.a)(Q,z,K,q,ae,ne),a=Object(h.a)({dependencies:Object(u.a)({getJSON:S.a.getJSON},e)}),n=Object(g.c)({app:y,beers:I,OPTIONS:_}),r="localhost"!==window.location.host?g.d:window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({trace:!0,traceLimit:25})||g.d,c=Object(g.e)(n,r(Object(g.a)(a)));return a.run(t),c}()},r.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[55,1,2]]]);
//# sourceMappingURL=main.ca2fb839.chunk.js.map
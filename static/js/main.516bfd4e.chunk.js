(this["webpackJsonpreact-rxjs"]=this["webpackJsonpreact-rxjs"]||[]).push([[0],{55:function(e,t,a){e.exports=a(67)},60:function(e,t,a){},61:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(34),o=a.n(c),u=(a(60),a(61),a(27)),i=a(5),l=a(6);a(66);function s(e){var t=e.beers;return r.a.createElement("ul",{className:"List"},t&&!t[0]&&r.a.createElement("p",{className:"centered"}," No beers found "),t&&t[0]&&t.map((function(e){return r.a.createElement("li",{key:e.id,className:"List-item"},r.a.createElement("figure",{className:"List-item-img"},r.a.createElement("img",{src:e.image_url,alt:"beer"})),r.a.createElement("div",{className:"List-item-info"},r.a.createElement("p",null,e.name),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("small",null,"ABV: ",e.abv)),r.a.createElement("li",null,r.a.createElement("small",null,"Volume: ",e.volume.value," ",e.volume.unit)))))})))}function p(e){return{type:"FETCH_FULIFILLED",payload:e}}function O(e){return{type:"FETCH_FAILED",payload:e}}function b(e){return{type:"SET_STATUS",payload:e}}function m(){return{type:"CANCEL"}}var j={};function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=j[e]+t;return{type:"SET_CONFIG",payload:[e,a]}}j.perPage="&per_page=",j.page="&page=";var d=Object(u.b)((function(e){return Object(i.a)({},e.beers,{OPTIONS:e.OPTIONS})}),{fetchRandom:function(){return{type:"FECTH_RANDOM"}},search:function(e){return{type:"SEARCH",payload:e}},fetchCancel:m,saveConfig:E})((function(e){var t=e.data,a=e.status,c=e.fetchRandom,o=e.fetchCancel,u=e.saveConfig,i=e.search,p=e.errors,O=e.OPTIONS,b=(O.params&&O.params).perPage.split("=")[1]||10,m=Object(n.useState)(!1),j=Object(l.a)(m,2),E=j[0],d=j[1],f=Object(n.useState)(1),v=Object(l.a)(f,2),g=v[0],N=v[1],S=Object(n.useState)(b),C=Object(l.a)(S,2),h=C[0],y=C[1],A=function(e){g<2&&e<0||h>t.length&&e>0||(N((function(t){return t+e})),u("page",g),E?i(E):c())};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"App-inputs centered"},r.a.createElement("select",{name:"per-page",defaultValue:10,onChange:function(e){return t=e.target.value,y(t),void u("perPage",t);var t}},Array.from({length:10},(function(e,t){return 5*(t+1)})).map((function(e){return r.a.createElement("option",{key:e,value:e},e," results")}))),r.a.createElement("input",{type:"text",placeholder:"Search beer",onChange:function(e){return function(e){i(e.target.value),d(e.target.value.trim())}(e)}}),r.a.createElement("button",{type:"button",onClick:function(){return o(),void d(!1)},hidden:"SUCCESS"!==a&&"FAILURE"!==a&&!E},"SUCCESS"===a?"reset":"cancel"),r.a.createElement("button",{type:"button",onClick:c,disabled:"PENDING"===a},"get rendom beers!")),"SUCCESS"===a&&r.a.createElement("div",{className:"App-content"},t&&r.a.createElement(s,{beers:t}),r.a.createElement("div",{className:"list-pagination"},r.a.createElement("div",{className:"change-page",onClick:function(){return A(-1)},hidden:g<2},"Previous"),r.a.createElement("div",{className:"change-page",onClick:function(){return A(1)},hidden:h>t.length},"Next"))),"PENDING"===a&&r.a.createElement("span",{className:"App-spinner centered"},r.a.createElement("img",{src:"/beer-loader.gif",className:"beer-loader",alt:"loading"})),"FAILURE"===a&&r.a.createElement("div",{className:"App-content centered"},r.a.createElement("p",null," Oops! ",p&&p[0]&&p[0].message," ")))}));var f=Object(u.b)((function(e){return e}))((function(e){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"centered"},r.a.createElement("h1",null," Beers App "),r.a.createElement("span",{className:"subtitle"},"by ",e.app.name)),r.a.createElement(d,null))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var v=a(21),g=a(84),N=a(81),S=a(86),C={name:"niv"};function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NAME":return Object(i.a)({},e,{name:t.payload});default:return e}}var y={data:[],errors:[],status:"IDLE"};function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case"SET_STATUS":return Object(i.a)({},e,{status:t.payload});case"FECTH_DATA":return Object(i.a)({},e,{status:"PENDING"});case"FETCH_FULIFILLED":return Object(i.a)({},e,{data:t.payload,errors:[],status:"SUCCESS"});case"FETCH_FAILED":var a=t&&t.payload?t.payload:{message:"unknown error, check your connection",code:"000"},n=a.message,r=a.code;return Object(i.a)({},e,{errors:[{message:n,code:r}],status:"FAILURE"});case"SEARCH":return Object(i.a)({},e);case"CANCEL":return Object(i.a)({},e,{errors:[],status:"CANCEL"});default:return e}}var I=a(33),T=Object(I.a)({beerAPI:"https://api.punkapi.com/v2/beers"},"params",{page:"&page=1",perPage:"&per_page=10"});function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CONFIG":if(!t.payload||!t.payload[0])return Object(i.a)({},e);var a=Object(l.a)(t.payload,2),n=a[0],r=a[1];return{params:Object(i.a)({},e.params,Object(I.a)({},n,r))};default:return e}}var _=a(35),F=a(74),P=a(85),D=a(78),w=a(71),k=a(72),R=a(73),U=a(13),H=a(82),J=a(75),G=a(76),x=a(68),M=a(83),B=a(77),V=a(52),W=function(e){return[e.beerAPI,e.params]},X=Object(_.a)(b("PENDING"));function $(e,t,a){var n=a.getJSON;return e.pipe(Object(V.a)("FECTH_RANDOM"),Object(w.a)(t.pipe(Object(k.a)("OPTIONS"))),Object(R.a)((function(e){var t=Object(l.a)(e,2),a=(t[0],t[1]),r=a.params.perPage.split("=")[1],c=W(a),o=Object(l.a)(c,1)[0],u=Array.from({length:r}).map((function(){return n(o+"/random").pipe(Object(k.a)(0))})),i=Object(F.a)(u).pipe(Object(U.a)((function(e){return p(e)})),Object(H.a)(5e3),Object(J.a)((function(e){return Object(_.a)(O(e.response))})));return Object(P.a)(X,i)})))}function q(e,t,a){var n=a.getJSON;return e.pipe(Object(V.a)("SEARCH"),Object(G.a)(500),Object(x.a)((function(e){return""!==e.payload.trim()})),Object(w.a)(t.pipe(Object(k.a)("OPTIONS"))),Object(R.a)((function(t){var a=Object(l.a)(t,2),r=a[0].payload,c=a[1],o=W(c),u=Object(l.a)(o,2),i=u[0],s=u[1],b=[];Object.entries(s).map((function(e){var t=Object(l.a)(e,2)[1];return b.push(t)}));var m,j,E=n((m=i,j=r,"".concat(m,"?beer_name=").concat(encodeURIComponent(j))+[b.join("")])).pipe(Object(U.a)((function(e){return p(e)})),Object(J.a)((function(e){return Object(_.a)(O(e.response))}))),d=e.pipe(Object(V.a)("CANCEL"),Object(M.a)(1),Object(B.a)({type:"CANCEL"}));return Object(P.a)(X,Object(D.a)(E,d))})))}function z(e){return e.pipe(Object(V.a)("CANCEL"),Object(R.a)((function(){return Object(_.a)(b("IDLE"))})))}function K(e,t,a){var n=a.getJSON;return e.pipe(Object(V.a)("FECTH_RANDOM"),Object(w.a)(t.pipe(Object(k.a)("OPTIONS"))),Object(R.a)((function(e){var t=Object(l.a)(e,2),a=(t[0],t[1]),r=W(a),c=Object(l.a)(r,2),o=c[0],u=c[1],i=[];return Object.entries(u).map((function(e){var t=Object(l.a)(e,2)[1];return i.push(t)})),Object(P.a)(X,n(o+"?"+[i.join("")]).pipe(Object(U.a)((function(e){return p(e)})),Object(H.a)(5e3),Object(J.a)((function(e){return Object(_.a)(O(e.response))}))))})))}var Q=a(54),Y=a(79),Z=a(80),ee=a(41);function te(e,t){return e.pipe(Object(V.a)("SET_CONFIG"),Object(w.a)(t.pipe(Object(k.a)(["OPTIONS"]))),Object(Y.a)((function(e){var t=Object(l.a)(e,2),a=(t[0],t[1]),n=Object(i.a)({},a.params);localStorage.setItem("params",JSON.stringify(n))})),Object(Z.a)())}function ae(){var e=localStorage.getItem("params");if("string"===typeof e)try{var t=JSON.parse(e);return Object(_.a)(E.apply(void 0,Object(Q.a)(t)))}catch(a){return ee.a}return ee.a}o.a.render(r.a.createElement(u.a,{store:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(g.a)(K,q,z,$,te,ae),a=Object(N.a)({dependencies:Object(i.a)({getJSON:S.a.getJSON},e)}),n=Object(v.c)({app:h,beers:A,OPTIONS:L}),r=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({trace:!0,traceLimit:25})||v.d,c=Object(v.e)(n,r(Object(v.a)(a)));return a.run(t),c}()},r.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[55,1,2]]]);
//# sourceMappingURL=main.516bfd4e.chunk.js.map